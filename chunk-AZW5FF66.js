import{a as C,c as x,d as w,e as E,f as a,h as F,i as N,j as I,m as O}from"./chunk-BOMYFMUW.js";import{a as c}from"./chunk-KESCHGJR.js";import{k as S,s as y}from"./chunk-I7SXIN4Q.js";import{$ as p,Ab as b,Ib as s,Qb as g,Ra as h,W as u,aa as m,da as f,jb as v,rb as n,sb as o,tb as l}from"./chunk-YJBPNNV7.js";var k=(()=>{let t=class t{constructor(e){this._HttpClient=e}checkOut(e,r){return this._HttpClient.post(`${c.baseUrl}/api/v1/orders/checkout-session/${e}?url=${c.urlserver}`,{shippingAddress:r})}};t.\u0275fac=function(r){return new(r||t)(p(S))},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var U=(()=>{let t=class t{constructor(){this._ActivatedRoute=m(y),this._OrdersService=m(k),this.orders=new E({details:new a(null),phone:new a(null),city:new a(null)}),this.cartId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id"),console.log(e)},error:e=>{console.log(e)}})}ordersSubmet(){console.log(this.orders.value),this._OrdersService.checkOut(this.cartId,this.orders.value).subscribe({next:e=>{console.log(e),e.status==="success"&&window.open(e.session.url,"_self")},error:e=>{console.log(e)}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-orders"]],standalone:!0,features:[g],decls:18,vars:1,consts:[[1,"bg-main-light","rounded-4","shadow","p-2","my-2","w-75","mx-auto"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["formControlName","details","id","details",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["for","city"],["formControlName","city","id","text",1,"form-control"],["type","submit",1,"btn-main"]],template:function(r,d){r&1&&(n(0,"section",0)(1,"h1",1),s(2,"ShippingAddress"),o(),n(3,"form",2),b("ngSubmit",function(){return d.ordersSubmet()}),n(4,"div",3)(5,"label",4),s(6,"details"),o(),l(7,"textarea",5),o(),n(8,"div",3)(9,"label",6),s(10,"phone"),o(),l(11,"input",7),o(),n(12,"div",3)(13,"label",8),s(14,"city"),o(),l(15,"textarea",9),o(),n(16,"button",10),s(17,"Check Out"),o()()()),r&2&&(h(3),v("formGroup",d.orders))},dependencies:[O,F,C,x,w,N,I]});let i=t;return i})();export{U as OrdersComponent};
