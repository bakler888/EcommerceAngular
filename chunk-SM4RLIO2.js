import{a as A}from"./chunk-4UNCNPDE.js";import"./chunk-KESCHGJR.js";import{c as B,d as j}from"./chunk-OBAEAT6E.js";import{h as F,v as $}from"./chunk-I7SXIN4Q.js";import{Ab as _,Bb as m,Ib as s,Jb as b,Kb as v,Lb as T,Na as w,Qb as I,Ra as l,Sb as V,Wb as C,Xb as h,Yb as P,aa as g,da as S,hb as k,jb as x,na as d,nb as D,oa as p,pb as E,qb as y,rb as r,sb as o,tb as u,wb as f}from"./chunk-YJBPNNV7.js";function L(n,c){return this.cartDetails._id}var M=n=>["/orders",n];function O(n,c){if(n&1){let i=f();r(0,"div",5)(1,"div",7),u(2,"img",8),o(),r(3,"div",9)(4,"div")(5,"h3",10),s(6),o(),r(7,"p",11),s(8),o(),r(9,"button",12),_("click",function(){let t=d(i).$implicit,a=m(2);return p(a.removeItem(t.product.id))}),u(10,"i",13),o()(),r(11,"div",14)(12,"span",15),_("click",function(){let t=d(i).$implicit,a=m(2);return p(a.ubdateCountitems(t.product.id,t.count+1))}),u(13,"i",16),o(),r(14,"span"),s(15),o(),r(16,"span",15),_("click",function(){let t=d(i).$implicit,a=m(2);return p(a.ubdateCountitems(t.product.id,t.count-1))}),u(17,"i",17),o()()()()}if(n&2){let i=c.$implicit;l(2),x("src",i.product.imageCover,w)("alt",i.product.title),l(4),b(i.product.title),l(2),v("Price :",i.price,""),l(7),b(i.count)}}function N(n,c){if(n&1){let i=f();r(0,"section",0)(1,"div",1)(2,"h1",2),s(3),C(4,"translate"),o(),r(5,"button",3),_("click",function(){d(i);let t=m();return p(t.clearAllCart())}),s(6,"Delete All"),o()(),r(7,"p",4),s(8),C(9,"translate"),C(10,"currency"),o(),E(11,O,18,5,"div",5,L,!0),r(13,"button",6),s(14,"Orders"),o()()}if(n&2){let i=m();l(3),v(" ",h(4,4,"home.Shop Cart")," "),l(5),T("",h(9,6,"home.Total Cart Price")," :",P(10,8,i.cartDetails.totalCartPrice,"GBP"),""),l(3),y(i.cartDetails.products),l(2),x("routerLink",V(11,M,i.cartDetails._id))}}function z(n,c){n&1&&(r(0,"h1",18),s(1,"Cart Is Empty -_-"),o())}var W=(()=>{let c=class c{constructor(){this._CartService=g(A),this.cartDetails={}}ngOnInit(){this._CartService.getProductsCart().subscribe({next:e=>{console.log(e.data),this.cartDetails=e.data},error:e=>{console.log(e)}})}removeItem(e){this._CartService.deleteSpecificCartItem(e).subscribe({next:t=>{console.log(t),this.cartDetails=t.data,this._CartService.cartNumber.set(t.numOfCartItems)},error:t=>{console.log(t)}})}ubdateCountitems(e,t){t>0&&this._CartService.ubdateCount(e,t).subscribe({next:a=>{console.log(a),this.cartDetails=a.data},error:a=>{console.log(a)}})}clearAllCart(){this._CartService.clearCart().subscribe({next:e=>{console.log(e),e.message=="success"&&(this.cartDetails={},this._CartService.cartNumber.set(0))},error:e=>{console.log(e)}})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=S({type:c,selectors:[["app-cart"]],standalone:!0,features:[I],decls:2,vars:1,consts:[[1,"bg-main-light","rounded-4","shadow","p-4","my-2","w-75","mx-auto"],[1,"d-flex","align-items-center","justify-content-between"],[1,"h2"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"text-main"],[1,"row","mb-2","border-bottom"],[1,"btn-main",3,"routerLink"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","align-items-center","justify-content-between","d-flex"],[1,"h5"],[1,"text-main","m-0"],[1,"btn","p-0","text-danger","cursor-pointer",3,"click"],[1,"fa-solid","fa-trash"],[1,"align-items-center","gap-2","d-flex"],[1,"text-main","cursor-pointer",3,"click"],[1,"fa-solid","fa-circle-plus","fa-2xl"],[1,"fa-solid","fa-circle-minus","fa-2xl"],[1,"text-main","text-center","my-5"]],template:function(t,a){t&1&&k(0,N,15,13,"section",0)(1,z,2,0),t&2&&D(0,a.cartDetails.totalCartPrice?0:1)},dependencies:[F,$,j,B]});let n=c;return n})();export{W as CartComponent};
