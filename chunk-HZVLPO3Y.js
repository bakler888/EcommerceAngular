import{a as V}from"./chunk-MHGHNYLU.js";import{a as B,b as f,c as M,d as k,h as L,i as $,j,k as I,m as O}from"./chunk-BOMYFMUW.js";import"./chunk-KESCHGJR.js";import{c as D,u as G}from"./chunk-I7SXIN4Q.js";import{Ab as N,Bb as y,Ib as m,Jb as x,Qb as A,Ra as a,Tb as S,aa as P,da as q,hb as _,jb as h,nb as c,rb as l,sb as n,tb as F}from"./chunk-YJBPNNV7.js";var b=(t,r)=>({"is-valid":t,"is-invalid":r});function z(t,r){t&1&&(l(0,"p",18),m(1," name is required"),n())}function H(t,r){t&1&&(l(0,"p",18),m(1," name should be more than 2 chars "),n())}function J(t,r){t&1&&(l(0,"p",18),m(1," name should be less than 21 chars "),n())}function K(t,r){if(t&1&&(l(0,"div",5),_(1,z,2,0,"p",18)(2,H,2,0)(3,J,2,0),n()),t&2){let i,o=y();a(),c(1,(i=o.regForm.get("name"))!=null&&i.getError("required")?1:(i=o.regForm.get("name"))!=null&&i.getError("minlength")?2:(i=o.regForm.get("name"))!=null&&i.getError("maxlength")?3:-1)}}function Q(t,r){t&1&&(l(0,"p",18),m(1," email is required"),n())}function U(t,r){t&1&&(l(0,"p",18),m(1," write a valid email"),n())}function W(t,r){if(t&1&&(l(0,"div",8),_(1,Q,2,0,"p",18)(2,U,2,0),n()),t&2){let i,o=y();a(),c(1,(i=o.regForm.get("email"))!=null&&i.getError("required")?1:(i=o.regForm.get("email"))!=null&&i.getError("email")?2:-1)}}function X(t,r){t&1&&(l(0,"p",18),m(1," phone is required"),n())}function Y(t,r){t&1&&(l(0,"p",18),m(1," write a valid phone number"),n())}function Z(t,r){if(t&1&&(l(0,"div",8),_(1,X,2,0,"p",18)(2,Y,2,0),n()),t&2){let i,o=y();a(),c(1,(i=o.regForm.get("phone"))!=null&&i.getError("required")?1:(i=o.regForm.get("phone"))!=null&&i.getError("pattern")?2:-1)}}function ee(t,r){t&1&&(l(0,"p",18),m(1," password is required"),n())}function te(t,r){t&1&&(l(0,"p",18),m(1," password should be more strong "),n())}function ne(t,r){if(t&1&&(l(0,"div",8),_(1,ee,2,0,"p",18)(2,te,2,0),n()),t&2){let i,o=y();a(),c(1,(i=o.regForm.get("password"))!=null&&i.getError("required")?1:(i=o.regForm.get("password"))!=null&&i.getError("pattern")?2:-1)}}function re(t,r){t&1&&(l(0,"p",15),m(1,"password must be confirm"),n())}function le(t,r){t&1&&(l(0,"span"),F(1,"i",19),n())}function ie(t,r){if(t&1&&(l(0,"p",17),m(1),n()),t&2){let i=y();a(),x(i.msgerror)}}var _e=(()=>{let r=class r{constructor(){this._Router=P(G),this._FormBuilder=P(I),this._AuthService=P(V),this.msgerror="",this.isloading=!1,this.regForm=this._FormBuilder.group({email:[null,[f.required,f.email]],name:[null,[f.required,f.minLength(3),f.maxLength(20)]],phone:[null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)]],password:[null,[f.required,f.pattern(/^\w{6,}$/)]],rePassword:[null]},{Validators:this.confirmPassword})}confirmPassword(o){return o.get("password")?.value==o.get("rePassword")?.value?null:{mismatch:!0}}regSubmit(){this.regForm.valid?(this.isloading=!0,this.registersub=this._AuthService.setRegisterForm(this.regForm.value).subscribe({next:o=>{this.isloading=!1,o.message=="success"&&this._Router.navigate(["/login"]),console.log(o)},error:o=>{this.isloading=!1,this.msgerror=o.error.message,console.log(o)}})):(this.regForm.setErrors({mismatch:!0}),this.regForm.markAllAsTouched())}ngOnDestroy(){this.registersub?.unsubscribe()}};r.\u0275fac=function(R){return new(R||r)},r.\u0275cmp=q({type:r,selectors:[["app-register"]],standalone:!0,features:[A],decls:31,vars:29,consts:[[1,"bg-main-light","shadow","p-2","my-2","rounded-4"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","w-50"],["for","email"],["formControlName","email","type","text","id","email",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50"],["for","phone"],["formControlName","phone","type","text","id","phone",1,"form-control",3,"ngClass"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control",3,"ngClass"],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","m-0","w-50"],[1,"btn-main","ms-auto","d-block","my-2",3,"disabled"],[1,"alert","alert-danger"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(R,e){if(R&1&&(l(0,"section",0)(1,"form",1),N("ngSubmit",function(){return e.regSubmit()}),l(2,"div",2)(3,"label",3),m(4,"name"),n(),F(5,"input",4),_(6,K,4,1,"div",5),n(),l(7,"div",2)(8,"label",6),m(9,"email"),n(),F(10,"input",7),_(11,W,3,1,"div",8),n(),l(12,"div",2)(13,"label",9),m(14,"phone"),n(),F(15,"input",10),_(16,Z,3,1,"div",8),n(),l(17,"div",2)(18,"label",11),m(19,"password"),n(),F(20,"input",12),_(21,ne,3,1,"div",8),n(),l(22,"div",2)(23,"label",13),m(24,"repassword"),n(),F(25,"input",14),_(26,re,2,0,"p",15),n(),l(27,"button",16),m(28,"Register "),_(29,le,2,0,"span"),n(),_(30,ie,2,1,"p",17),n()()),R&2){let s,C,u,v,d,w,g,E,p,T;a(),h("formGroup",e.regForm),a(4),h("ngClass",S(14,b,!((s=e.regForm.get("name"))!=null&&s.errors)&&(((s=e.regForm.get("name"))==null?null:s.touched)||((s=e.regForm.get("name"))==null?null:s.dirty)),((s=e.regForm.get("name"))==null?null:s.errors)&&(((s=e.regForm.get("name"))==null?null:s.touched)||((s=e.regForm.get("name"))==null?null:s.dirty)))),a(),c(6,(C=e.regForm.get("name"))!=null&&C.errors&&((C=e.regForm.get("name"))!=null&&C.touched||(C=e.regForm.get("name"))!=null&&C.dirty)?6:-1),a(4),h("ngClass",S(17,b,!((u=e.regForm.get("email"))!=null&&u.errors)&&(((u=e.regForm.get("email"))==null?null:u.touched)||((u=e.regForm.get("email"))==null?null:u.dirty)),((u=e.regForm.get("email"))==null?null:u.errors)&&(((u=e.regForm.get("email"))==null?null:u.touched)||((u=e.regForm.get("email"))==null?null:u.dirty)))),a(),c(11,(v=e.regForm.get("email"))!=null&&v.errors&&((v=e.regForm.get("email"))!=null&&v.touched||(v=e.regForm.get("email"))!=null&&v.dirty)?11:-1),a(4),h("ngClass",S(20,b,!((d=e.regForm.get("phone"))!=null&&d.errors)&&(((d=e.regForm.get("phone"))==null?null:d.touched)||((d=e.regForm.get("phone"))==null?null:d.dirty)),((d=e.regForm.get("phone"))==null?null:d.errors)&&(((d=e.regForm.get("phone"))==null?null:d.touched)||((d=e.regForm.get("phone"))==null?null:d.dirty)))),a(),c(16,(w=e.regForm.get("phone"))!=null&&w.errors&&((w=e.regForm.get("phone"))!=null&&w.touched||(w=e.regForm.get("phone"))!=null&&w.dirty)?16:-1),a(4),h("ngClass",S(23,b,!((g=e.regForm.get("password"))!=null&&g.errors)&&(((g=e.regForm.get("password"))==null?null:g.touched)||((g=e.regForm.get("password"))==null?null:g.dirty)),((g=e.regForm.get("password"))==null?null:g.errors)&&(((g=e.regForm.get("password"))==null?null:g.touched)||((g=e.regForm.get("password"))==null?null:g.dirty)))),a(),c(21,(E=e.regForm.get("password"))!=null&&E.errors&&((E=e.regForm.get("password"))!=null&&E.touched||(E=e.regForm.get("password"))!=null&&E.dirty)?21:-1),a(4),h("ngClass",S(26,b,!((p=e.regForm.get("rePassword"))!=null&&p.errors)&&(((p=e.regForm.get("rePassword"))==null?null:p.touched)||((p=e.regForm.get("rePassword"))==null?null:p.dirty)),((p=e.regForm.get("rePassword"))==null?null:p.errors)&&(((p=e.regForm.get("rePassword"))==null?null:p.touched)||((p=e.regForm.get("rePassword"))==null?null:p.dirty)))),a(),c(26,e.regForm.getError("mismatch")&&((T=e.regForm.get("rePassword"))!=null&&T.touched||(T=e.regForm.get("rePassword"))!=null&&T.dirty)?26:-1),a(),h("disabled",e.regForm.invalid||e.isloading),a(2),c(29,e.isloading?29:-1),a(),c(30,e.msgerror?30:-1)}},dependencies:[O,L,B,M,k,$,j,D]});let t=r;return t})();export{_e as RegisterComponent};
