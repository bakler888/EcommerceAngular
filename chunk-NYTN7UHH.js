import{a as R}from"./chunk-VH2UHEAI.js";import{a as G}from"./chunk-3RSSPXSH.js";import{a as $,c as q,g as H,l as J}from"./chunk-BOMYFMUW.js";import{a as U}from"./chunk-PNSQUXE3.js";import{l as K}from"./chunk-4MECHA4W.js";import{a as z}from"./chunk-4UNCNPDE.js";import"./chunk-KESCHGJR.js";import{c as O,d as W}from"./chunk-OBAEAT6E.js";import{v as j}from"./chunk-I7SXIN4Q.js";import{Ab as F,Bb as A,Ib as l,Jb as m,Kb as E,Mb as M,Na as y,Nb as k,Ob as L,Qb as I,Ra as i,Rb as B,Sb as N,Wb as h,Xb as D,Yb as V,aa as d,bb as g,da as C,hb as P,jb as f,na as S,nb as b,oa as x,ob as T,pb as _,qb as v,rb as r,sb as s,tb as p,wb as w}from"./chunk-YJBPNNV7.js";var Q=(e,t)=>t.id,X=e=>["/details",e],Y=()=>[1,2,3,4,5];function Z(e,t){e&1&&(r(0,"span"),p(1,"i",13),s())}function ee(e,t){e&1&&p(0,"i",10)}function te(e,t){if(e&1){let n=w();r(0,"div",3)(1,"div",4)(2,"div",5),p(3,"img",6),r(4,"h3",7),l(5),s(),r(6,"h4",8),l(7),s(),r(8,"div",9)(9,"span"),l(10),s(),r(11,"div"),_(12,Z,2,0,"span",null,T),P(14,ee,1,0,"i",10),r(15,"span",11),l(16),s()()()(),r(17,"button",12),F("click",function(){let a=S(n).$implicit,c=A();return x(c.addCart(a.id))}),l(18,"Add To Cart"),s()()()}if(e&2){let n=t.$implicit;i(2),f("routerLink",N(8,X,n.id)),i(),f("src",n.imageCover,y)("alt",n.title),i(2),m(n.category.name),i(2),m(n.title.split(" ",2).join(" ")),i(3),E("",n.price," EGP"),i(2),v(B(10,Y).slice(0,n.ratingsAverage)),i(2),b(14,n.ratingsAverage%1!==0?14:-1),i(2),m(n.ratingsAverage)}}var _e=(()=>{let t=class t{constructor(){this.categoriesList=g([]),this.productsList=g([]),this._CategoriesService=d(R),this.text="",this._ProductsService=d(U),this._CartService=d(z),this._ToastrService=d(K)}ngOnInit(){this._CategoriesService.getAllCategory().subscribe({next:o=>{console.log(o.data),this.categoriesList.set(o.data)}}),this.getAllProductsub=this._ProductsService.getAllProduct().subscribe({next:o=>{console.log(o.data),this.productsList.set(o.data)}})}ngOnDestroy(){this.getAllProductsub.unsubscribe()}addCart(o){this._CartService.addProductToCart(o).subscribe({next:a=>{console.log(a),this._ToastrService.success(a.message,"Fresh Cart"),this._CartService.cartNumber.set(a.numOfCartItems),console.log(this._CartService.cartNumber())}})}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=C({type:t,selectors:[["app-product"]],standalone:!0,features:[I],decls:9,vars:7,consts:[[1,"mt-1","mb-4"],["type","search","placeholder","search By Name",1,"form-control","w-50","mx-auto","my-2",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-md-2"],[1,"product","p-2"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flix","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(a,c){a&1&&(r(0,"section",0)(1,"h2"),l(2),h(3,"translate"),s(),r(4,"input",1),L("ngModelChange",function(u){return k(c.text,u)||(c.text=u),u}),s(),r(5,"div",2),_(6,te,19,11,"div",3,Q),h(8,"search"),s()()),a&2&&(i(2),m(D(3,2,"home.All Products")),i(2),M("ngModel",c.text),i(2),v(V(8,4,c.productsList(),c.text)))},dependencies:[j,J,$,q,H,G,W,O]});let e=t;return e})();export{_e as ProductComponent};
