import{a as R}from"./chunk-PNSQUXE3.js";import{l as V}from"./chunk-4MECHA4W.js";import{a as B}from"./chunk-4UNCNPDE.js";import"./chunk-KESCHGJR.js";import{c as F,d as M}from"./chunk-OBAEAT6E.js";import{s as k}from"./chunk-I7SXIN4Q.js";import{Ab as y,Bb as x,Ib as c,Jb as d,Kb as f,Na as P,Qb as A,Ra as i,Rb as D,Wb as _,Xb as C,aa as m,da as g,hb as u,jb as T,na as S,nb as v,oa as h,ob as b,pb as E,qb as I,rb as n,sb as r,tb as p,wb as w}from"./chunk-YJBPNNV7.js";var j=()=>[1,2,3,4,5];function N(a,o){a&1&&(n(0,"span"),p(1,"i",11),r())}function O(a,o){a&1&&p(0,"i",8)}function z(a,o){if(a&1){let e=w();n(0,"section")(1,"h1",0),c(2),_(3,"translate"),r(),n(4,"div",1)(5,"div",2),p(6,"img",3),r(),n(7,"div",4)(8,"div")(9,"h2"),c(10),r(),n(11,"p",5),c(12),r(),n(13,"h3",6),c(14),r(),n(15,"div",7)(16,"span"),c(17),r(),n(18,"div"),E(19,N,2,0,"span",null,b),u(21,O,1,0,"i",8),n(22,"span",9),c(23),r()()(),n(24,"button",10),y("click",function(){S(e);let t=x();return h(t.addCart(t.detailsProduct.id))}),c(25),_(26,"translate"),r()()()()()}if(a&2){let e=x();i(2),f(" ",C(3,10,"home.details product")," "),i(4),T("src",e.detailsProduct.imageCover,P)("alt",e.detailsProduct.title),i(4),d(e.detailsProduct.title),i(2),d(e.detailsProduct.description),i(2),d(e.detailsProduct.category.name),i(3),f("",e.detailsProduct.price," EGP"),i(2),I(D(14,j).slice(0,e.detailsProduct.ratingsAverage)),i(2),v(21,e.detailsProduct.ratingsAverage%1!==0?21:-1),i(2),d(e.detailsProduct.ratingsAverage),i(2),d(C(26,12,"home.Add To Cart"))}}var X=(()=>{let o=class o{constructor(){this._ProductsService=m(R),this._CartService=m(B),this._ToastrService=m(V),this.detailsProduct=null,this._ActivatedRoute=m(k)}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:l=>{let t=l.get("id");this._ProductsService.getSpecificProduct(t).subscribe({next:s=>{console.log(s.data),this.detailsProduct=s.data},error:s=>{console.log(s)}})}})}addCart(l){this._CartService.addProductToCart(l).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message,"Fresh Cart"),this._CartService.cartNumber.set(t.numOfCartItems),console.log(this._CartService.cartNumber())}})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=g({type:o,selectors:[["app-details"]],standalone:!0,features:[A],decls:1,vars:1,consts:[[1,"text-center","text-main","my-2"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"w-100",3,"src","alt"],[1,"col-md-9"],["xlass","text-muted"],[1,"h6"],[1,"d-flix","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(t,s){t&1&&u(0,z,27,15,"section"),t&2&&v(0,s.detailsProduct?0:-1)},dependencies:[M,F]});let a=o;return a})();export{X as DetailsComponent};
